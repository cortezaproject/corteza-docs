= Corteza Component Catalogue (C3)

=== Quick introduction

Corteza Component Catalogue is a tool for building UI components. Its goal is to isolate a component from any external dependencies or other components and test its behavior - how it will react to a property change or the firing of an event.

The general concept of C3 is inspired by Storybook. The main difference between the both of them is that Storybook uses stories which can be any type of functionality for example a function, class, component or styles whereas in C3 the stories are the components themselves.

Corteza Component Catalogue is designed to be used by front-end developers, project managers and anyone who can find use for it. Both the functionality and styles of a component can be tested.

=== What repositories are involved

* corteza-vue: https://github.com/cortezaproject/corteza-vue
* corteza-webapp-admin: https://github.com/cortezaproject/corteza-webapp-admin
* corteza-webapp-compose: https://github.com/cortezaproject/corteza-webapp-compose
* corteza-webapp-one: https://github.com/cortezaproject/corteza-webapp-one
* corteza-webapp-reporter: https://github.com/cortezaproject/corteza-webapp-reporter
* corteza-webapp-workflow: https://github.com/cortezaproject/corteza-webapp-workflow

=== Structure overview

==== Corteza-vue
* contains base functionality for C3: https://github.com/cortezaproject/corteza-vue/tree/2021.9.x/src/components/c3

==== Corteza-webapp-<<glossary-repo, ***>>
- Contains two types of C3 files: registry (C3.js) and non registry (.c3.js)

* Registry files contain imported modules and/or components
* Non registry files contain configuration needed for a C3 file like props, controls, scenarios and other

=== What packages, views, components are involved?

* Corteza-vue
** C3's base functionality is situated in corteza-vue. In order to use it, corteza-vue must be linked to the corresponding webapp

* Corteza-webapp-<<glossary-repo, ***>>
** 'src/dev.env.js' contains all the configuration needed by C3
** 'components/C3.js' main registry for C3 files
** 'components/CSubmitButton.c3.js' file containing C3 data for 'CSubmitButton' component

===  How can I add additional stuff to your feature?

==== How to create a C3 file and use it

To test a component create a .c3.js file. This file is usually named after the component itself. 

image::c3-naming.png[Naming]

In the newly created file add data for the component.

```
const props // <1> = {
  processing: false,
  success: false,
  disabled: true,
  buttonClass: 'mt-2 pt-1',
  variant: 'outline-primary',
  iconVariant: '',
}

export default {
  name // <2> : 'Submit button',
  group // <3> : ['Root components'],
  component // <4>,
  props,

  controls // <5>: [
    checkbox('Processing', 'processing'),
    checkbox('Success', 'success'),
    checkbox('Disabled', 'disabled'),
    input('Button class', 'buttonClass'),
  ],

  scenarios // <6>: [
    { label: 'Full form',
      props,
    },
    { label: 'Empty form',
      props: {
        ...props,
        disabled: false,
        buttonClass: '',
      },
    },
  ],
}
```

<1> All the properties which a component needs in order to be rendered
<2> The name by which the component will appear
<3> Allows components to be split by a group and subgroup depending on their functionality or name
<4> The component itself - CSubmitButton.vue
<5> Gives the developer the ability to modify the props. Controls are different form controls like input (text and number), checkbox, select, textarea which are located in corteza-vue
<6> Contain two types - full and empty form. Full form holds the properties listed above and the empty form - the default values of the props. Full form is used to test how the component looks and behaves when properties contain values different from their initial ones. And empty form tests how the component reacts to the default properties and styles.

Now add the component to the C3 registry 

Note for Tomaz! Couldn't decide which would be better so I included both! Please choose one.

image::registry.png[C3 registry]/image::registry-with-arrow.png[C3 registry]

End result

image::submit-button-UI.png[UI]

In the bottom  of the left navigation submit button is displayed under Root components group. On the right side are the submit button and below it - controls and pre-set controls. Controls hold the properties for the full form scenario. By clicking on a checkbox or writing a value in the input, the button will change according to the provided values. Under pre-set controls are the two scenarios - full and empty form. By selecting one, the data in the props will be populated in the controls, and the submit button will react to the change.

=== Is there anything else (important) youâ€™d like to mention?

* C3 is only used in development mode. To run it type the command:

```
yarn dev-env
```

=== Glossary

|===
| [#glossary-repo]#<<glossary-repo,*>>#
References any webapp like corteza-webapp-admin, corteza-webapp-compose and so on